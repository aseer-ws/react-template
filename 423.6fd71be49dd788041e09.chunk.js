(self.webpackChunkreact_template=self.webpackChunkreact_template||[]).push([[423],{71423:(e,t,n)=>{"use strict";n.r(t),n.d(t,{TunesContainer:()=>ke,TunesContainerTest:()=>Te,default:()=>be,mapDispatchToProps:()=>Ce});n(98620);var r=n(10149),i=(n(89626),n(70302)),a=(n(89858),n(51024)),o=n(41609),c=n.n(o),d=n(27361),s=n.n(d),u=n(23279),l=n.n(u),m=n(67294),p=(n(45697),n(37424)),f=n(97132),h=n(15482),v=n(22222),g=n(35281),y=n(5276),k=n(91545),_=function(e){return e.tunesContainer||k.E3},C=(0,n(86619).R5)("itunes"),w=function(e){return C.get("search?term=".concat(e))},b=n(73375),T=regeneratorRuntime.mark(P),x=regeneratorRuntime.mark(N),S=k.xE.successGetSongs,Z=k.xE.failureGetSongs;function P(e){var t,n,r,i;return regeneratorRuntime.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,(0,b.call)(w,e.artistName);case 2:if(t=a.sent,n=t.ok,r=t.data,i=t.problem,!n||!r){a.next=9;break}return a.next=7,(0,b.put)(S(r));case 7:a.next=11;break;case 9:return a.next=11,(0,b.put)(Z(null!==r&&void 0!==r?r:i));case 11:case"end":return a.stop()}}),T)}function N(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,b.takeLatest)(k.Cw.REQUEST_GET_SONGS,P);case 2:case"end":return e.stop()}}),x)}var I,E,A,G,j,z=n(25798),O=n(71893),R=(n(30467),n(55673)),L=(n(47811),n(91633)),U=(n(58136),n(5789)),$=n(69123),B=n(34392),D=n(95763);function W(e,t,n,r){j||(j="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var o=new Array(a),c=0;c<a;c++)o[c]=arguments[c+3];t.children=o}if(t&&i)for(var d in i)void 0===t[d]&&(t[d]=i[d]);else t||(t=i||{});return{$$typeof:j,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var q=(0,O.ZP)(U.default).withConfig({displayName:"TrackCard__StyledTrackItem",componentId:"sc-10bk196-0"})(["&&{height:100%;max-height:15rem;}"]),M=(0,O.ZP)(i.Z).withConfig({displayName:"TrackCard__StyledTrackCard",componentId:"sc-10bk196-1"})(["&&{height:100%;}"]),H=(0,O.ZP)(L.Z).withConfig({displayName:"TrackCard__StyledImage",componentId:"sc-10bk196-2"})(["&&{width:6.25rem;height:6.25rem;border-radius:50%;@media screen and (max-width:25rem){width:5rem;height:5rem;}}"]),J=(0,O.ZP)(B.T).withConfig({displayName:"TrackCard__TrackName",componentId:"sc-10bk196-3"})(["&&{font-size:1rem;color:",";}"],D.success),Q=(0,O.ZP)(B.T).withConfig({displayName:"TrackCard__TrackCollectionName",componentId:"sc-10bk196-4"})([""]),V=(0,O.ZP)(B.T).withConfig({displayName:"TrackCard__TrackPrice",componentId:"sc-10bk196-5"})(["&&{color:",";}"],D.error),Y=(0,O.ZP)(B.T).withConfig({displayName:"TrackCard__TrackGenre",componentId:"sc-10bk196-6"})([""]);const F=function(e){var t=e.skeletonLoading,n=e.trackName,i=e.collectionName,a=e.artworkUrl100,o=e.trackPrice,d=e.primaryGenreName;return W(r.Z,{loading:t,active:!0},void 0,W(q,{"data-testid":"track-card"},void 0,W(M,{hoverable:!0},void 0,W(R.default,{gutter:48},void 0,W(U.default,{span:8},void 0,W(H,{preview:!1,src:a,fallback:"https://media.istockphoto.com/vectors/thumbnail-image-vector-graphic-vector-id1147544807?k=20&m=1147544807&s=612x612&w=0&h=pBhz1dkwsCMq37Udtp9sfxbjaMl27JUapoyYpQm0anc="})),W(U.default,{span:16},void 0,W($.Z,{condition:!c()(n),otherwise:I||(I=W(B.T,{id:"track_name_unavailable"}))},void 0,W(J,{"data-testid":"track-name",marginBottom:10,type:"subheading",text:n})),W($.Z,{condition:!c()(i),otherwise:E||(E=W(B.T,{id:"collection_name_unavailable"}))},void 0,W(Q,{"data-testid":"collection-name",type:"subText",text:i})),W($.Z,{condition:"number"===typeof o,otherwise:A||(A=W(B.T,{id:"track_price_unavailable"}))},void 0,W(V,{"data-testid":"track-price",text:String(o)})),W($.Z,{condition:!c()(d),otherwise:G||(G=W(B.T,{id:"track_genre_unavailable"}))},void 0,W(Y,{"data-testid":"track-genre",text:d})))))))};var K,X,ee,te,ne,re,ie,ae=n(39711);function oe(){return(oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ce(e,t,n,r){ie||(ie="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var o=new Array(a),c=0;c<a;c++)o[c]=arguments[c+3];t.children=o}if(t&&i)for(var d in i)void 0===t[d]&&(t[d]=i[d]);else t||(t=i||{});return{$$typeof:ie,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,a=[],o=!0,c=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(e){c=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(c)throw i}}return a}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return se(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ue=a.Z.Search,le=(0,O.ZP)(i.Z).withConfig({displayName:"TunesContainer__CustomCard",componentId:"sc-1n734yz-0"})(["&&{user-select:none;","}"],(function(e){return e.margintop&&"margin-top: ".concat(e.margintop,"rem")})),me=O.ZP.div.withConfig({displayName:"TunesContainer__Container",componentId:"sc-1n734yz-1"})(["display:flex;justify-content:center;flex-direction:column;margin:2rem auto;max-width:",";padding:",";"],(function(e){return e.maxWidth}),(function(e){return e.padding})),pe=(0,O.ZP)(ae.Link).withConfig({displayName:"TunesContainer__StyledLink",componentId:"sc-1n734yz-2"})(["&&{text-align:center;}"]),fe=(0,O.ZP)(ue).withConfig({displayName:"TunesContainer__StyledArtistSearch",componentId:"sc-1n734yz-3"})(["&&{max-width:18.75rem;border-radius:0.3rem;padding:0.5rem;}"]),he=O.ZP.header.withConfig({displayName:"TunesContainer__StyledHeader",componentId:"sc-1n734yz-4"})(["display:flex;flex-direction:column;align-items:center;"]),ve=O.ZP.div.withConfig({displayName:"TunesContainer__StyledTracksContainer",componentId:"sc-1n734yz-5"})(["display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:1rem;"]),ge=k.xE.requestGetSongs,ye=k.xE.clearSongs;function ke(e){var t,n=e.artist,i=e.songsData,a=e.tunesError,o=e.dispatchGetArtistSongs,d=e.maxWidth,u=e.padding,p=e.dispatchClearSongs,f=de((0,m.useState)(!1),2),v=f[0],g=f[1];(0,m.useEffect)((function(){v&&!c()(i)&&g(!1)}),[i]);var y,k,_=l()((function(e){if(!e)return p();g(!0),o(e)}),500);return ce(me,{maxWidth:d,padding:u},void 0,te||(te=ce(h.q,{},void 0,ce("title",{},void 0,"TunesContainer"),ce("meta",{name:"description",content:"Description of TunesContainer"}))),ne||(ne=ce(pe,{"data-testid":"repos-redirect",to:"/repos"},void 0,"Goto GitHub Repos")),ce(he,{},void 0,re||(re=ce(B.T,{type:"heading",marginBottom:10,id:"itunes_header"})),ce(fe,{"data-testid":"artist-search-bar",placeholder:"input artist name",allowClear:!0,defaultValue:n,onChange:function(e){return _(e.target.value)},onSearch:function(e){return _(e)}})),(y=s()(i,"results",[]),k=s()(i,"resultCount",0),ce(r.Z,{loading:v,active:!0},void 0,ce(le,{margintop:2},void 0,ce($.Z,{condition:!c()(n),otherwise:K||(K=ce(B.T,{id:"songs_data_empty"}))},void 0,ce($.Z,{condition:!c()(n),otherwise:X||(X=ce(B.T,{id:"itunes_artist_unavailable"}))},void 0,ce("div",{},void 0,ce(B.T,{"data-testid":"tunes-artist",id:"itunes_artist_name",values:{artistName:n}})),ce($.Z,{condition:k,otherwise:ee||(ee=ce(B.T,{"data-testid":"empty-track-text",id:"itunes_empty_track"}))},void 0,ce("div",{},void 0,ce(B.T,{id:"itunes_track_count",values:{trackCount:y.length}})))))),ce($.Z,{condition:v||!c()(i)},void 0,ce(le,{margintop:1},void 0,ce(z.Z,{ParentComponent:ve,of:y,renderItem:function(e){return m.createElement(F,oe({key:e.trackId,skeletonLoading:v},e))}}))))),ce($.Z,{condition:!c()(a)},void 0,ce($.Z,{condition:"string"===typeof a,otherwise:ce("div",{},void 0,JSON.stringify(a,null,2))},void 0,t||(t=ce(B.T,{"data-testid":"tunes-error",text:a})))))}ke.defaultProps={maxWidth:1e3,padding:"2rem"};var _e=(0,v.zB)({artist:(0,v.P1)(_,(function(e){return s()(e,"artistName")})),songsData:(0,v.P1)(_,(function(e){return s()(e,"songs")})),tunesError:(0,v.P1)(_,(function(e){return s()(e,"tunesError")}))});function Ce(e){return{dispatchGetArtistSongs:function(t){return e(ge(t))},dispatchClearSongs:function(){return e(ye())}}}var we=(0,p.connect)(_e,Ce);const be=(0,g.compose)(we,m.memo,f.injectIntl,(0,y.y3)({key:"tunesContainer",saga:N}))(ke);var Te=(0,g.compose)(f.injectIntl)(ke)}}]);
//# sourceMappingURL=423.6fd71be49dd788041e09.chunk.js.map