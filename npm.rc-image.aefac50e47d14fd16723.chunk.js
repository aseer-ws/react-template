(self.webpackChunkreact_template=self.webpackChunkreact_template||[]).push([[227],{86020:(e,t,n)=>{"use strict";var r=n(20862),a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(67154)),i=a(n(81109)),l=a(n(59713)),u=a(n(63038)),c=a(n(50008)),s=a(n(6479)),f=r(n(67294)),d=a(n(94184)),v=n(54887),p=a(n(60869)),m=a(n(47042)),g=r(n(66883)),w=0,C=function(e){var t=e.src,n=e.alt,r=e.onPreviewClose,a=e.prefixCls,C=void 0===a?"rc-image":a,h=e.previewPrefixCls,y=void 0===h?"".concat(C,"-preview"):h,P=e.placeholder,b=e.fallback,k=e.width,x=e.height,E=e.style,N=e.preview,M=void 0===N||N,S=e.className,O=e.onClick,_=e.onError,j=e.wrapperClassName,z=e.wrapperStyle,D=e.crossOrigin,R=e.decoding,Y=e.loading,X=e.referrerPolicy,I=e.sizes,U=e.srcSet,V=e.useMap,G=(0,s.default)(e,["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","crossOrigin","decoding","loading","referrerPolicy","sizes","srcSet","useMap"]),A=P&&!0!==P,L="object"===(0,c.default)(M)?M:{},H=L.src,W=L.visible,B=void 0===W?void 0:W,F=L.onVisibleChange,T=void 0===F?r:F,q=L.getContainer,J=void 0===q?void 0:q,K=L.mask,Q=L.maskClassName,Z=L.icons,$=(0,s.default)(L,["src","visible","onVisibleChange","getContainer","mask","maskClassName","icons"]),ee=null!==H&&void 0!==H?H:t,te=void 0!==B,ne=(0,p.default)(!!B,{value:B,onChange:T}),re=(0,u.default)(ne,2),ae=re[0],oe=re[1],ie=(0,f.useState)(A?"loading":"normal"),le=(0,u.default)(ie,2),ue=le[0],ce=le[1],se=(0,f.useState)(null),fe=(0,u.default)(se,2),de=fe[0],ve=fe[1],pe="error"===ue,me=f.useContext(g.context),ge=me.isPreviewGroup,we=me.setCurrent,Ce=me.setShowPreview,he=me.setMousePosition,ye=me.registerImage,Pe=f.useState((function(){return w+=1})),be=(0,u.default)(Pe,1)[0],ke=M&&!pe,xe=f.useRef(!1),Ee=function(){ce("normal")};f.useEffect((function(){return ye(be,ee)}),[]),f.useEffect((function(){ye(be,ee,ke)}),[ee,ke]),f.useEffect((function(){pe&&ce("normal"),A&&!xe.current&&ce("loading")}),[t]);var Ne=(0,d.default)(C,j,(0,l.default)({},"".concat(C,"-error"),pe)),Me=pe&&b?b:ee,Se={crossOrigin:D,decoding:R,loading:Y,referrerPolicy:X,sizes:I,srcSet:U,useMap:V,alt:n,className:(0,d.default)("".concat(C,"-img"),(0,l.default)({},"".concat(C,"-img-placeholder"),!0===P),S),style:(0,i.default)({height:x},E)};return f.createElement(f.Fragment,null,f.createElement("div",(0,o.default)({},G,{className:Ne,onClick:M&&!pe?function(e){if(!te){var t=(0,v.getOffset)(e.target),n=t.left,r=t.top;ge?(we(be),he({x:n,y:r})):ve({x:n,y:r})}ge?Ce(!0):oe(!0),O&&O(e)}:O,style:(0,i.default)({width:k,height:x},z)}),f.createElement("img",(0,o.default)({},Se,{ref:function(e){xe.current=!1,"loading"===ue&&(null===e||void 0===e?void 0:e.complete)&&(e.naturalWidth||e.naturalHeight)&&(xe.current=!0,Ee())}},pe&&b?{src:b}:{onLoad:Ee,onError:function(e){_&&_(e),ce("error")},src:t})),"loading"===ue&&f.createElement("div",{"aria-hidden":"true",className:"".concat(C,"-placeholder")},P),K&&ke&&f.createElement("div",{className:(0,d.default)("".concat(C,"-mask"),Q)},K)),!ge&&ke&&f.createElement(m.default,(0,o.default)({"aria-hidden":!ae,visible:ae,prefixCls:y,onClose:function(e){e.stopPropagation(),oe(!1),te||ve(null)},mousePosition:de,src:Me,alt:n,getContainer:J,icons:Z},$)))};C.PreviewGroup=g.default,C.displayName="Image";var h=C;t.default=h},47042:(e,t,n)=>{"use strict";var r=n(20862),a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=a(n(67154)),i=a(n(81109)),l=a(n(59713)),u=a(n(63038)),c=a(n(6479)),s=r(n(67294)),f=a(n(17882)),d=a(n(94184)),v=a(n(97596)),p=n(45520),m=a(n(52457)),g=a(n(74501)),w=n(66883),C=s.useState,h=s.useEffect,y={x:0,y:0},P=function(e){var t=e.prefixCls,n=e.src,r=e.alt,a=e.onClose,P=(e.afterClose,e.visible),b=e.icons,k=void 0===b?{}:b,x=(0,c.default)(e,["prefixCls","src","alt","onClose","afterClose","visible","icons"]),E=k.rotateLeft,N=k.rotateRight,M=k.zoomIn,S=k.zoomOut,O=k.close,_=k.left,j=k.right,z=C(1),D=(0,u.default)(z,2),R=D[0],Y=D[1],X=C(0),I=(0,u.default)(X,2),U=I[0],V=I[1],G=(0,m.default)(y),A=(0,u.default)(G,2),L=A[0],H=A[1],W=s.useRef(),B=s.useRef({originX:0,originY:0,deltaX:0,deltaY:0}),F=s.useState(!1),T=(0,u.default)(F,2),q=T[0],J=T[1],K=s.useContext(w.context),Q=K.previewUrls,Z=K.current,$=K.isPreviewGroup,ee=K.setCurrent,te=Q.size,ne=Array.from(Q.keys()),re=ne.indexOf(Z),ae=$?Q.get(Z):n,oe=$&&te>1,ie=s.useState({wheelDirection:0}),le=(0,u.default)(ie,2),ue=le[0],ce=le[1],se=function(){Y((function(e){return e+1})),H(y)},fe=function(){R>1&&Y((function(e){return e-1})),H(y)},de=(0,d.default)((0,l.default)({},"".concat(t,"-moving"),q)),ve="".concat(t,"-operations-operation"),pe="".concat(t,"-operations-icon"),me=[{icon:O,onClick:a,type:"close"},{icon:M,onClick:se,type:"zoomIn"},{icon:S,onClick:fe,type:"zoomOut",disabled:1===R},{icon:N,onClick:function(){V((function(e){return e+90}))},type:"rotateRight"},{icon:E,onClick:function(){V((function(e){return e-90}))},type:"rotateLeft"}],ge=function(){if(P&&q){var e=W.current.offsetWidth*R,t=W.current.offsetHeight*R,n=W.current.getBoundingClientRect(),r=n.left,a=n.top,o=U%180!==0;J(!1);var l=(0,g.default)(o?t:e,o?e:t,r,a);l&&H((0,i.default)({},l))}},we=function(e){P&&q&&H({x:e.pageX-B.current.deltaX,y:e.pageY-B.current.deltaY})},Ce=function(e){if(P){e.preventDefault();var t=e.deltaY;ce({wheelDirection:t})}};return h((function(){var e=ue.wheelDirection;e>0?fe():e<0&&se()}),[ue]),h((function(){var e,t,n=(0,v.default)(window,"mouseup",ge,!1),r=(0,v.default)(window,"mousemove",we,!1),a=(0,v.default)(window,"wheel",Ce,{passive:!1});try{window.top!==window.self&&(e=(0,v.default)(window.top,"mouseup",ge,!1),t=(0,v.default)(window.top,"mousemove",we,!1))}catch(e){(0,p.warning)(!1,"[rc-image] ".concat(e))}return function(){n.remove(),r.remove(),a.remove(),e&&e.remove(),t&&t.remove()}}),[P,q]),s.createElement(f.default,(0,o.default)({transitionName:"zoom",maskTransitionName:"fade",closable:!1,keyboard:!0,prefixCls:t,onClose:a,afterClose:function(){Y(1),V(0),H(y)},visible:P,wrapClassName:de},x),s.createElement("ul",{className:"".concat(t,"-operations")},me.map((function(e){var n=e.icon,r=e.onClick,a=e.type,o=e.disabled;return s.createElement("li",{className:(0,d.default)(ve,(0,l.default)({},"".concat(t,"-operations-operation-disabled"),!!o)),onClick:r,key:a},s.isValidElement(n)?s.cloneElement(n,{className:pe}):n)}))),s.createElement("div",{className:"".concat(t,"-img-wrapper"),style:{transform:"translate3d(".concat(L.x,"px, ").concat(L.y,"px, 0)")}},s.createElement("img",{onMouseDown:function(e){0===e.button&&(e.preventDefault(),e.stopPropagation(),B.current.deltaX=e.pageX-L.x,B.current.deltaY=e.pageY-L.y,B.current.originX=L.x,B.current.originY=L.y,J(!0))},ref:W,className:"".concat(t,"-img"),src:ae,alt:r,style:{transform:"scale3d(".concat(R,", ").concat(R,", 1) rotate(").concat(U,"deg)")}})),oe&&s.createElement("div",{className:(0,d.default)("".concat(t,"-switch-left"),(0,l.default)({},"".concat(t,"-switch-left-disabled"),0===re)),onClick:function(e){e.preventDefault(),e.stopPropagation(),re>0&&ee(ne[re-1])}},_),oe&&s.createElement("div",{className:(0,d.default)("".concat(t,"-switch-right"),(0,l.default)({},"".concat(t,"-switch-right-disabled"),re===te-1)),onClick:function(e){e.preventDefault(),e.stopPropagation(),re<te-1&&ee(ne[re+1])}},j))};t.default=P},66883:(e,t,n)=>{"use strict";var r=n(20862),a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.context=void 0;var o=a(n(67154)),i=a(n(63038)),l=a(n(50008)),u=a(n(6479)),c=r(n(67294)),s=a(n(60869)),f=a(n(47042)),d=c.createContext({previewUrls:new Map,setPreviewUrls:function(){return null},current:null,setCurrent:function(){return null},setShowPreview:function(){return null},setMousePosition:function(){return null},registerImage:function(){return function(){return null}}});t.context=d;var v=d.Provider,p=function(e){var t=e.previewPrefixCls,n=void 0===t?"rc-image-preview":t,r=e.children,a=e.icons,d=void 0===a?{}:a,p=e.preview,m="object"===(0,l.default)(p)?p:{},g=m.visible,w=void 0===g?void 0:g,C=m.onVisibleChange,h=void 0===C?void 0:C,y=m.getContainer,P=void 0===y?void 0:y,b=m.current,k=void 0===b?0:b,x=(0,u.default)(m,["visible","onVisibleChange","getContainer","current"]),E=(0,c.useState)(new Map),N=(0,i.default)(E,2),M=N[0],S=N[1],O=(0,c.useState)(),_=(0,i.default)(O,2),j=_[0],z=_[1],D=(0,s.default)(!!w,{value:w,onChange:h}),R=(0,i.default)(D,2),Y=R[0],X=R[1],I=(0,c.useState)(null),U=(0,i.default)(I,2),V=U[0],G=U[1],A=void 0!==w,L=Array.from(M.keys())[k],H=new Map(Array.from(M).filter((function(e){return!!(0,i.default)(e,2)[1].canPreview})).map((function(e){var t=(0,i.default)(e,2);return[t[0],t[1].url]})));return c.useEffect((function(){z(L)}),[L]),c.useEffect((function(){!Y&&A&&z(L)}),[L,A,Y]),c.createElement(v,{value:{isPreviewGroup:!0,previewUrls:H,setPreviewUrls:S,current:j,setCurrent:z,setShowPreview:X,setMousePosition:G,registerImage:function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=function(){S((function(t){var n=new Map(t);return n.delete(e)?n:t}))};return S((function(r){return new Map(r).set(e,{url:t,canPreview:n})})),r}}},r,c.createElement(f.default,(0,o.default)({"aria-hidden":!Y,visible:Y,prefixCls:n,onClose:function(e){e.stopPropagation(),X(!1),G(null)},mousePosition:V,src:H.get(j),icons:d,getContainer:P},x)))};t.default=p},74501:(e,t,n)=>{"use strict";var r=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){var o=(0,i.getClientSize)(),u=o.width,c=o.height,s=null;e<=u&&t<=c?s={x:0,y:0}:(e>u||t>c)&&(s=(0,a.default)((0,a.default)({},l("x",n,e,u)),l("y",r,t,c)));return s};var a=r(n(81109)),o=r(n(59713)),i=n(54887);function l(e,t,n,r){var a=t+n,i=(n-r)/2;if(n>r){if(t>0)return(0,o.default)({},e,i);if(t<0&&a<r)return(0,o.default)({},e,-i)}else if(t<0||a>r)return(0,o.default)({},e,t<0?i:-i);return{}}},52457:(e,t,n)=>{"use strict";var r=n(20862),a=n(95318);Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=l.useRef(null),n=l.useState(e),r=(0,i.default)(n,2),a=r[0],c=r[1],s=l.useRef([]);return l.useEffect((function(){return function(){return t.current&&u.default.cancel(t.current)}}),[]),[a,function(e){null===t.current&&(s.current=[],t.current=(0,u.default)((function(){c((function(e){var n=e;return s.current.forEach((function(e){n=(0,o.default)((0,o.default)({},n),e)})),t.current=null,n}))})));s.current.push(e)}]};var o=a(n(81109)),i=a(n(63038)),l=r(n(67294)),u=a(n(64543))},72777:(e,t,n)=>{"use strict";var r=n(20862);Object.defineProperty(t,"__esModule",{value:!0});var a={};t.default=void 0;var o=r(n(86020));Object.keys(o).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(a,e)||e in t&&t[e]===o[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}}))}));var i=o.default;t.default=i}}]);
//# sourceMappingURL=npm.rc-image.aefac50e47d14fd16723.chunk.js.map