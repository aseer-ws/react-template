{"version":3,"sources":["webpack://react-template/./node_modules/rc-image/lib/Image.js","webpack://react-template/./node_modules/rc-image/lib/Preview.js","webpack://react-template/./node_modules/rc-image/lib/PreviewGroup.js","webpack://react-template/./node_modules/rc-image/lib/getFixScaleEleTransPosition.js","webpack://react-template/./node_modules/rc-image/lib/hooks/useFrameSetState.js","webpack://react-template/./node_modules/rc-image/lib/index.js"],"names":["_interopRequireWildcard","_interopRequireDefault","Object","defineProperty","exports","value","default","_extends2","_objectSpread2","_defineProperty2","_slicedToArray2","_typeof2","_objectWithoutProperties2","React","_classnames","_css","_useMergedState3","_Preview","_PreviewGroup","uuid","ImageInternal","_ref","imgSrc","src","alt","onInitialPreviewClose","onPreviewClose","_ref$prefixCls","prefixCls","_ref$previewPrefixCls","previewPrefixCls","concat","placeholder","fallback","width","height","style","_ref$preview","preview","className","onClick","onImageError","onError","wrapperClassName","wrapperStyle","crossOrigin","decoding","loading","referrerPolicy","sizes","srcSet","useMap","otherProps","isCustomPlaceholder","_ref2","previewSrc","_ref2$visible","visible","previewVisible","undefined","_ref2$onVisibleChange","onVisibleChange","onPreviewVisibleChange","_ref2$getContainer","getContainer","getPreviewContainer","previewMask","mask","maskClassName","icons","dialogProps","isControlled","_useMergedState","onChange","_useMergedState2","isShowPreview","setShowPreview","_useState","useState","_useState2","status","setStatus","_useState3","_useState4","mousePosition","setMousePosition","isError","_React$useContext","useContext","context","isPreviewGroup","setCurrent","setGroupShowPreview","setGroupMousePosition","registerImage","_React$useState","currentId","canPreview","isLoaded","useRef","onLoad","useEffect","current","wrapperClass","mergedSrc","imgCommonProps","createElement","Fragment","e","_getOffset","getOffset","target","left","top","x","y","ref","img","complete","naturalWidth","naturalHeight","onClose","stopPropagation","PreviewGroup","displayName","_default","_rcDialog","_classnames5","_addEventListener","_warning","_useFrameSetState3","_getFixScaleEleTransPosition","initialPosition","props","afterClose","_props$icons","restProps","rotateLeft","rotateRight","zoomIn","zoomOut","close","right","scale","setScale","rotate","setRotate","_useFrameSetState","_useFrameSetState2","position","setPosition","imgRef","originPositionRef","originX","originY","deltaX","deltaY","_React$useState2","isMoving","setMoving","previewUrls","previewGroupCount","size","previewUrlsKeys","Array","from","keys","currentPreviewIndex","indexOf","combinationSrc","get","showLeftOrRightSwitches","_React$useState3","wheelDirection","_React$useState4","lastWheelZoomDirection","setLastWheelZoomDirection","onZoomIn","onZoomOut","wrapClassName","toolClassName","iconClassName","tools","icon","type","disabled","onMouseUp","offsetWidth","offsetHeight","_imgRef$current$getBo","getBoundingClientRect","_left","isRotate","fixState","onMouseMove","event","pageX","pageY","onWheelMove","preventDefault","onTopMouseUpListener","onTopMouseMoveListener","onMouseUpListener","window","onMouseMoveListener","onScrollWheelListener","passive","self","error","warning","remove","transitionName","maskTransitionName","closable","keyboard","map","key","isValidElement","cloneElement","transform","onMouseDown","button","createContext","Map","setPreviewUrls","Provider","children","_ref$icons","_ref2$current","currentIndex","_useState5","_useState6","currentControlledKey","canPreviewUrls","filter","_ref3","_ref5","_ref6","url","id","arguments","length","unRegister","oldPreviewUrls","clonePreviewUrls","delete","set","_getClientSize","getClientSize","clientWidth","clientHeight","fixPos","fixPoint","start","startAddWidth","offsetStart","initial","frame","state","setState","queue","_raf","cancel","newState","preState","memoState","forEach","queueState","push","_exportNames","_Image","prototype","hasOwnProperty","call","enumerable"],"mappings":"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","file":"npm.rc-image.577c8057a25ac71eb473.chunk.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\n\nvar _css = require(\"rc-util/lib/Dom/css\");\n\nvar _useMergedState3 = _interopRequireDefault(require(\"rc-util/lib/hooks/useMergedState\"));\n\nvar _Preview = _interopRequireDefault(require(\"./Preview\"));\n\nvar _PreviewGroup = _interopRequireWildcard(require(\"./PreviewGroup\"));\n\nvar uuid = 0;\n\nvar ImageInternal = function ImageInternal(_ref) {\n  var imgSrc = _ref.src,\n      alt = _ref.alt,\n      onInitialPreviewClose = _ref.onPreviewClose,\n      _ref$prefixCls = _ref.prefixCls,\n      prefixCls = _ref$prefixCls === void 0 ? 'rc-image' : _ref$prefixCls,\n      _ref$previewPrefixCls = _ref.previewPrefixCls,\n      previewPrefixCls = _ref$previewPrefixCls === void 0 ? \"\".concat(prefixCls, \"-preview\") : _ref$previewPrefixCls,\n      placeholder = _ref.placeholder,\n      fallback = _ref.fallback,\n      width = _ref.width,\n      height = _ref.height,\n      style = _ref.style,\n      _ref$preview = _ref.preview,\n      preview = _ref$preview === void 0 ? true : _ref$preview,\n      className = _ref.className,\n      onClick = _ref.onClick,\n      onImageError = _ref.onError,\n      wrapperClassName = _ref.wrapperClassName,\n      wrapperStyle = _ref.wrapperStyle,\n      crossOrigin = _ref.crossOrigin,\n      decoding = _ref.decoding,\n      loading = _ref.loading,\n      referrerPolicy = _ref.referrerPolicy,\n      sizes = _ref.sizes,\n      srcSet = _ref.srcSet,\n      useMap = _ref.useMap,\n      otherProps = (0, _objectWithoutProperties2.default)(_ref, [\"src\", \"alt\", \"onPreviewClose\", \"prefixCls\", \"previewPrefixCls\", \"placeholder\", \"fallback\", \"width\", \"height\", \"style\", \"preview\", \"className\", \"onClick\", \"onError\", \"wrapperClassName\", \"wrapperStyle\", \"crossOrigin\", \"decoding\", \"loading\", \"referrerPolicy\", \"sizes\", \"srcSet\", \"useMap\"]);\n  var isCustomPlaceholder = placeholder && placeholder !== true;\n\n  var _ref2 = (0, _typeof2.default)(preview) === 'object' ? preview : {},\n      previewSrc = _ref2.src,\n      _ref2$visible = _ref2.visible,\n      previewVisible = _ref2$visible === void 0 ? undefined : _ref2$visible,\n      _ref2$onVisibleChange = _ref2.onVisibleChange,\n      onPreviewVisibleChange = _ref2$onVisibleChange === void 0 ? onInitialPreviewClose : _ref2$onVisibleChange,\n      _ref2$getContainer = _ref2.getContainer,\n      getPreviewContainer = _ref2$getContainer === void 0 ? undefined : _ref2$getContainer,\n      previewMask = _ref2.mask,\n      maskClassName = _ref2.maskClassName,\n      icons = _ref2.icons,\n      dialogProps = (0, _objectWithoutProperties2.default)(_ref2, [\"src\", \"visible\", \"onVisibleChange\", \"getContainer\", \"mask\", \"maskClassName\", \"icons\"]);\n\n  var src = previewSrc !== null && previewSrc !== void 0 ? previewSrc : imgSrc;\n  var isControlled = previewVisible !== undefined;\n\n  var _useMergedState = (0, _useMergedState3.default)(!!previewVisible, {\n    value: previewVisible,\n    onChange: onPreviewVisibleChange\n  }),\n      _useMergedState2 = (0, _slicedToArray2.default)(_useMergedState, 2),\n      isShowPreview = _useMergedState2[0],\n      setShowPreview = _useMergedState2[1];\n\n  var _useState = (0, React.useState)(isCustomPlaceholder ? 'loading' : 'normal'),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      status = _useState2[0],\n      setStatus = _useState2[1];\n\n  var _useState3 = (0, React.useState)(null),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      mousePosition = _useState4[0],\n      setMousePosition = _useState4[1];\n\n  var isError = status === 'error';\n\n  var _React$useContext = React.useContext(_PreviewGroup.context),\n      isPreviewGroup = _React$useContext.isPreviewGroup,\n      setCurrent = _React$useContext.setCurrent,\n      setGroupShowPreview = _React$useContext.setShowPreview,\n      setGroupMousePosition = _React$useContext.setMousePosition,\n      registerImage = _React$useContext.registerImage;\n\n  var _React$useState = React.useState(function () {\n    uuid += 1;\n    return uuid;\n  }),\n      _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 1),\n      currentId = _React$useState2[0];\n\n  var canPreview = preview && !isError;\n  var isLoaded = React.useRef(false);\n\n  var onLoad = function onLoad() {\n    setStatus('normal');\n  };\n\n  var onError = function onError(e) {\n    if (onImageError) {\n      onImageError(e);\n    }\n\n    setStatus('error');\n  };\n\n  var onPreview = function onPreview(e) {\n    if (!isControlled) {\n      var _getOffset = (0, _css.getOffset)(e.target),\n          left = _getOffset.left,\n          top = _getOffset.top;\n\n      if (isPreviewGroup) {\n        setCurrent(currentId);\n        setGroupMousePosition({\n          x: left,\n          y: top\n        });\n      } else {\n        setMousePosition({\n          x: left,\n          y: top\n        });\n      }\n    }\n\n    if (isPreviewGroup) {\n      setGroupShowPreview(true);\n    } else {\n      setShowPreview(true);\n    }\n\n    if (onClick) onClick(e);\n  };\n\n  var onPreviewClose = function onPreviewClose(e) {\n    e.stopPropagation();\n    setShowPreview(false);\n\n    if (!isControlled) {\n      setMousePosition(null);\n    }\n  };\n\n  var getImgRef = function getImgRef(img) {\n    isLoaded.current = false;\n    if (status !== 'loading') return;\n\n    if ((img === null || img === void 0 ? void 0 : img.complete) && (img.naturalWidth || img.naturalHeight)) {\n      isLoaded.current = true;\n      onLoad();\n    }\n  }; // Keep order start\n  // Resolve https://github.com/ant-design/ant-design/issues/28881\n  // Only need unRegister when component unMount\n\n\n  React.useEffect(function () {\n    var unRegister = registerImage(currentId, src);\n    return unRegister;\n  }, []);\n  React.useEffect(function () {\n    registerImage(currentId, src, canPreview);\n  }, [src, canPreview]); // Keep order end\n\n  React.useEffect(function () {\n    if (isError) {\n      setStatus('normal');\n    }\n\n    if (isCustomPlaceholder && !isLoaded.current) {\n      setStatus('loading');\n    }\n  }, [imgSrc]);\n  var wrapperClass = (0, _classnames.default)(prefixCls, wrapperClassName, (0, _defineProperty2.default)({}, \"\".concat(prefixCls, \"-error\"), isError));\n  var mergedSrc = isError && fallback ? fallback : src;\n  var imgCommonProps = {\n    crossOrigin: crossOrigin,\n    decoding: decoding,\n    loading: loading,\n    referrerPolicy: referrerPolicy,\n    sizes: sizes,\n    srcSet: srcSet,\n    useMap: useMap,\n    alt: alt,\n    className: (0, _classnames.default)(\"\".concat(prefixCls, \"-img\"), (0, _defineProperty2.default)({}, \"\".concat(prefixCls, \"-img-placeholder\"), placeholder === true), className),\n    style: (0, _objectSpread2.default)({\n      height: height\n    }, style)\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", (0, _extends2.default)({}, otherProps, {\n    className: wrapperClass,\n    onClick: preview && !isError ? onPreview : onClick,\n    style: (0, _objectSpread2.default)({\n      width: width,\n      height: height\n    }, wrapperStyle)\n  }), /*#__PURE__*/React.createElement(\"img\", (0, _extends2.default)({}, imgCommonProps, {\n    ref: getImgRef\n  }, isError && fallback ? {\n    src: fallback\n  } : {\n    onLoad: onLoad,\n    onError: onError,\n    src: imgSrc\n  })), status === 'loading' && /*#__PURE__*/React.createElement(\"div\", {\n    \"aria-hidden\": \"true\",\n    className: \"\".concat(prefixCls, \"-placeholder\")\n  }, placeholder), previewMask && canPreview && /*#__PURE__*/React.createElement(\"div\", {\n    className: (0, _classnames.default)(\"\".concat(prefixCls, \"-mask\"), maskClassName)\n  }, previewMask)), !isPreviewGroup && canPreview && /*#__PURE__*/React.createElement(_Preview.default, (0, _extends2.default)({\n    \"aria-hidden\": !isShowPreview,\n    visible: isShowPreview,\n    prefixCls: previewPrefixCls,\n    onClose: onPreviewClose,\n    mousePosition: mousePosition,\n    src: mergedSrc,\n    alt: alt,\n    getContainer: getPreviewContainer,\n    icons: icons\n  }, dialogProps)));\n};\n\nImageInternal.PreviewGroup = _PreviewGroup.default;\nImageInternal.displayName = 'Image';\nvar _default = ImageInternal;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _rcDialog = _interopRequireDefault(require(\"rc-dialog\"));\n\nvar _classnames5 = _interopRequireDefault(require(\"classnames\"));\n\nvar _addEventListener = _interopRequireDefault(require(\"rc-util/lib/Dom/addEventListener\"));\n\nvar _warning = require(\"rc-util/lib/warning\");\n\nvar _useFrameSetState3 = _interopRequireDefault(require(\"./hooks/useFrameSetState\"));\n\nvar _getFixScaleEleTransPosition = _interopRequireDefault(require(\"./getFixScaleEleTransPosition\"));\n\nvar _PreviewGroup = require(\"./PreviewGroup\");\n\nvar useState = React.useState,\n    useEffect = React.useEffect;\nvar initialPosition = {\n  x: 0,\n  y: 0\n};\n\nvar Preview = function Preview(props) {\n  var prefixCls = props.prefixCls,\n      src = props.src,\n      alt = props.alt,\n      onClose = props.onClose,\n      afterClose = props.afterClose,\n      visible = props.visible,\n      _props$icons = props.icons,\n      icons = _props$icons === void 0 ? {} : _props$icons,\n      restProps = (0, _objectWithoutProperties2.default)(props, [\"prefixCls\", \"src\", \"alt\", \"onClose\", \"afterClose\", \"visible\", \"icons\"]);\n  var rotateLeft = icons.rotateLeft,\n      rotateRight = icons.rotateRight,\n      zoomIn = icons.zoomIn,\n      zoomOut = icons.zoomOut,\n      close = icons.close,\n      left = icons.left,\n      right = icons.right;\n\n  var _useState = useState(1),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      scale = _useState2[0],\n      setScale = _useState2[1];\n\n  var _useState3 = useState(0),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      rotate = _useState4[0],\n      setRotate = _useState4[1];\n\n  var _useFrameSetState = (0, _useFrameSetState3.default)(initialPosition),\n      _useFrameSetState2 = (0, _slicedToArray2.default)(_useFrameSetState, 2),\n      position = _useFrameSetState2[0],\n      setPosition = _useFrameSetState2[1];\n\n  var imgRef = React.useRef();\n  var originPositionRef = React.useRef({\n    originX: 0,\n    originY: 0,\n    deltaX: 0,\n    deltaY: 0\n  });\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),\n      isMoving = _React$useState2[0],\n      setMoving = _React$useState2[1];\n\n  var _React$useContext = React.useContext(_PreviewGroup.context),\n      previewUrls = _React$useContext.previewUrls,\n      current = _React$useContext.current,\n      isPreviewGroup = _React$useContext.isPreviewGroup,\n      setCurrent = _React$useContext.setCurrent;\n\n  var previewGroupCount = previewUrls.size;\n  var previewUrlsKeys = Array.from(previewUrls.keys());\n  var currentPreviewIndex = previewUrlsKeys.indexOf(current);\n  var combinationSrc = isPreviewGroup ? previewUrls.get(current) : src;\n  var showLeftOrRightSwitches = isPreviewGroup && previewGroupCount > 1;\n\n  var _React$useState3 = React.useState({\n    wheelDirection: 0\n  }),\n      _React$useState4 = (0, _slicedToArray2.default)(_React$useState3, 2),\n      lastWheelZoomDirection = _React$useState4[0],\n      setLastWheelZoomDirection = _React$useState4[1];\n\n  var onAfterClose = function onAfterClose() {\n    setScale(1);\n    setRotate(0);\n    setPosition(initialPosition);\n  };\n\n  var onZoomIn = function onZoomIn() {\n    setScale(function (value) {\n      return value + 1;\n    });\n    setPosition(initialPosition);\n  };\n\n  var onZoomOut = function onZoomOut() {\n    if (scale > 1) {\n      setScale(function (value) {\n        return value - 1;\n      });\n    }\n\n    setPosition(initialPosition);\n  };\n\n  var onRotateRight = function onRotateRight() {\n    setRotate(function (value) {\n      return value + 90;\n    });\n  };\n\n  var onRotateLeft = function onRotateLeft() {\n    setRotate(function (value) {\n      return value - 90;\n    });\n  };\n\n  var onSwitchLeft = function onSwitchLeft(event) {\n    event.preventDefault(); // Without this mask close will abnormal\n\n    event.stopPropagation();\n\n    if (currentPreviewIndex > 0) {\n      setCurrent(previewUrlsKeys[currentPreviewIndex - 1]);\n    }\n  };\n\n  var onSwitchRight = function onSwitchRight(event) {\n    event.preventDefault(); // Without this mask close will abnormal\n\n    event.stopPropagation();\n\n    if (currentPreviewIndex < previewGroupCount - 1) {\n      setCurrent(previewUrlsKeys[currentPreviewIndex + 1]);\n    }\n  };\n\n  var wrapClassName = (0, _classnames5.default)((0, _defineProperty2.default)({}, \"\".concat(prefixCls, \"-moving\"), isMoving));\n  var toolClassName = \"\".concat(prefixCls, \"-operations-operation\");\n  var iconClassName = \"\".concat(prefixCls, \"-operations-icon\");\n  var tools = [{\n    icon: close,\n    onClick: onClose,\n    type: 'close'\n  }, {\n    icon: zoomIn,\n    onClick: onZoomIn,\n    type: 'zoomIn'\n  }, {\n    icon: zoomOut,\n    onClick: onZoomOut,\n    type: 'zoomOut',\n    disabled: scale === 1\n  }, {\n    icon: rotateRight,\n    onClick: onRotateRight,\n    type: 'rotateRight'\n  }, {\n    icon: rotateLeft,\n    onClick: onRotateLeft,\n    type: 'rotateLeft'\n  }];\n\n  var onMouseUp = function onMouseUp() {\n    if (visible && isMoving) {\n      var width = imgRef.current.offsetWidth * scale;\n      var height = imgRef.current.offsetHeight * scale; // eslint-disable-next-line @typescript-eslint/no-shadow\n\n      var _imgRef$current$getBo = imgRef.current.getBoundingClientRect(),\n          _left = _imgRef$current$getBo.left,\n          top = _imgRef$current$getBo.top;\n\n      var isRotate = rotate % 180 !== 0;\n      setMoving(false);\n      var fixState = (0, _getFixScaleEleTransPosition.default)(isRotate ? height : width, isRotate ? width : height, _left, top);\n\n      if (fixState) {\n        setPosition((0, _objectSpread2.default)({}, fixState));\n      }\n    }\n  };\n\n  var onMouseDown = function onMouseDown(event) {\n    // Only allow main button\n    if (event.button !== 0) return;\n    event.preventDefault(); // Without this mask close will abnormal\n\n    event.stopPropagation();\n    originPositionRef.current.deltaX = event.pageX - position.x;\n    originPositionRef.current.deltaY = event.pageY - position.y;\n    originPositionRef.current.originX = position.x;\n    originPositionRef.current.originY = position.y;\n    setMoving(true);\n  };\n\n  var onMouseMove = function onMouseMove(event) {\n    if (visible && isMoving) {\n      setPosition({\n        x: event.pageX - originPositionRef.current.deltaX,\n        y: event.pageY - originPositionRef.current.deltaY\n      });\n    }\n  };\n\n  var onWheelMove = function onWheelMove(event) {\n    if (!visible) return;\n    event.preventDefault();\n    var wheelDirection = event.deltaY;\n    setLastWheelZoomDirection({\n      wheelDirection: wheelDirection\n    });\n  };\n\n  useEffect(function () {\n    var wheelDirection = lastWheelZoomDirection.wheelDirection;\n\n    if (wheelDirection > 0) {\n      onZoomOut();\n    } else if (wheelDirection < 0) {\n      onZoomIn();\n    }\n  }, [lastWheelZoomDirection]);\n  useEffect(function () {\n    var onTopMouseUpListener;\n    var onTopMouseMoveListener;\n    var onMouseUpListener = (0, _addEventListener.default)(window, 'mouseup', onMouseUp, false);\n    var onMouseMoveListener = (0, _addEventListener.default)(window, 'mousemove', onMouseMove, false);\n    var onScrollWheelListener = (0, _addEventListener.default)(window, 'wheel', onWheelMove, {\n      passive: false\n    });\n\n    try {\n      // Resolve if in iframe lost event\n\n      /* istanbul ignore next */\n      if (window.top !== window.self) {\n        onTopMouseUpListener = (0, _addEventListener.default)(window.top, 'mouseup', onMouseUp, false);\n        onTopMouseMoveListener = (0, _addEventListener.default)(window.top, 'mousemove', onMouseMove, false);\n      }\n    } catch (error) {\n      /* istanbul ignore next */\n      (0, _warning.warning)(false, \"[rc-image] \".concat(error));\n    }\n\n    return function () {\n      onMouseUpListener.remove();\n      onMouseMoveListener.remove();\n      onScrollWheelListener.remove();\n      /* istanbul ignore next */\n\n      if (onTopMouseUpListener) onTopMouseUpListener.remove();\n      /* istanbul ignore next */\n\n      if (onTopMouseMoveListener) onTopMouseMoveListener.remove();\n    };\n  }, [visible, isMoving]);\n  return /*#__PURE__*/React.createElement(_rcDialog.default, (0, _extends2.default)({\n    transitionName: \"zoom\",\n    maskTransitionName: \"fade\",\n    closable: false,\n    keyboard: true,\n    prefixCls: prefixCls,\n    onClose: onClose,\n    afterClose: onAfterClose,\n    visible: visible,\n    wrapClassName: wrapClassName\n  }, restProps), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"\".concat(prefixCls, \"-operations\")\n  }, tools.map(function (_ref) {\n    var icon = _ref.icon,\n        onClick = _ref.onClick,\n        type = _ref.type,\n        disabled = _ref.disabled;\n    return /*#__PURE__*/React.createElement(\"li\", {\n      className: (0, _classnames5.default)(toolClassName, (0, _defineProperty2.default)({}, \"\".concat(prefixCls, \"-operations-operation-disabled\"), !!disabled)),\n      onClick: onClick,\n      key: type\n    }, /*#__PURE__*/React.isValidElement(icon) ? /*#__PURE__*/React.cloneElement(icon, {\n      className: iconClassName\n    }) : icon);\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(prefixCls, \"-img-wrapper\"),\n    style: {\n      transform: \"translate3d(\".concat(position.x, \"px, \").concat(position.y, \"px, 0)\")\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    onMouseDown: onMouseDown,\n    ref: imgRef,\n    className: \"\".concat(prefixCls, \"-img\"),\n    src: combinationSrc,\n    alt: alt,\n    style: {\n      transform: \"scale3d(\".concat(scale, \", \").concat(scale, \", 1) rotate(\").concat(rotate, \"deg)\")\n    }\n  })), showLeftOrRightSwitches && /*#__PURE__*/React.createElement(\"div\", {\n    className: (0, _classnames5.default)(\"\".concat(prefixCls, \"-switch-left\"), (0, _defineProperty2.default)({}, \"\".concat(prefixCls, \"-switch-left-disabled\"), currentPreviewIndex === 0)),\n    onClick: onSwitchLeft\n  }, left), showLeftOrRightSwitches && /*#__PURE__*/React.createElement(\"div\", {\n    className: (0, _classnames5.default)(\"\".concat(prefixCls, \"-switch-right\"), (0, _defineProperty2.default)({}, \"\".concat(prefixCls, \"-switch-right-disabled\"), currentPreviewIndex === previewGroupCount - 1)),\n    onClick: onSwitchRight\n  }, right));\n};\n\nvar _default = Preview;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.context = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar _typeof2 = _interopRequireDefault(require(\"@babel/runtime/helpers/typeof\"));\n\nvar _objectWithoutProperties2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutProperties\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _useMergedState3 = _interopRequireDefault(require(\"rc-util/lib/hooks/useMergedState\"));\n\nvar _Preview = _interopRequireDefault(require(\"./Preview\"));\n\n/* istanbul ignore next */\nvar context = /*#__PURE__*/React.createContext({\n  previewUrls: new Map(),\n  setPreviewUrls: function setPreviewUrls() {\n    return null;\n  },\n  current: null,\n  setCurrent: function setCurrent() {\n    return null;\n  },\n  setShowPreview: function setShowPreview() {\n    return null;\n  },\n  setMousePosition: function setMousePosition() {\n    return null;\n  },\n  registerImage: function registerImage() {\n    return function () {\n      return null;\n    };\n  }\n});\nexports.context = context;\nvar Provider = context.Provider;\n\nvar Group = function Group(_ref) {\n  var _ref$previewPrefixCls = _ref.previewPrefixCls,\n      previewPrefixCls = _ref$previewPrefixCls === void 0 ? 'rc-image-preview' : _ref$previewPrefixCls,\n      children = _ref.children,\n      _ref$icons = _ref.icons,\n      icons = _ref$icons === void 0 ? {} : _ref$icons,\n      preview = _ref.preview;\n\n  var _ref2 = (0, _typeof2.default)(preview) === 'object' ? preview : {},\n      _ref2$visible = _ref2.visible,\n      previewVisible = _ref2$visible === void 0 ? undefined : _ref2$visible,\n      _ref2$onVisibleChange = _ref2.onVisibleChange,\n      onPreviewVisibleChange = _ref2$onVisibleChange === void 0 ? undefined : _ref2$onVisibleChange,\n      _ref2$getContainer = _ref2.getContainer,\n      getContainer = _ref2$getContainer === void 0 ? undefined : _ref2$getContainer,\n      _ref2$current = _ref2.current,\n      currentIndex = _ref2$current === void 0 ? 0 : _ref2$current,\n      dialogProps = (0, _objectWithoutProperties2.default)(_ref2, [\"visible\", \"onVisibleChange\", \"getContainer\", \"current\"]);\n\n  var _useState = (0, React.useState)(new Map()),\n      _useState2 = (0, _slicedToArray2.default)(_useState, 2),\n      previewUrls = _useState2[0],\n      setPreviewUrls = _useState2[1];\n\n  var _useState3 = (0, React.useState)(),\n      _useState4 = (0, _slicedToArray2.default)(_useState3, 2),\n      current = _useState4[0],\n      setCurrent = _useState4[1];\n\n  var _useMergedState = (0, _useMergedState3.default)(!!previewVisible, {\n    value: previewVisible,\n    onChange: onPreviewVisibleChange\n  }),\n      _useMergedState2 = (0, _slicedToArray2.default)(_useMergedState, 2),\n      isShowPreview = _useMergedState2[0],\n      setShowPreview = _useMergedState2[1];\n\n  var _useState5 = (0, React.useState)(null),\n      _useState6 = (0, _slicedToArray2.default)(_useState5, 2),\n      mousePosition = _useState6[0],\n      setMousePosition = _useState6[1];\n\n  var isControlled = previewVisible !== undefined;\n  var previewUrlsKeys = Array.from(previewUrls.keys());\n  var currentControlledKey = previewUrlsKeys[currentIndex];\n  var canPreviewUrls = new Map(Array.from(previewUrls).filter(function (_ref3) {\n    var _ref4 = (0, _slicedToArray2.default)(_ref3, 2),\n        canPreview = _ref4[1].canPreview;\n\n    return !!canPreview;\n  }).map(function (_ref5) {\n    var _ref6 = (0, _slicedToArray2.default)(_ref5, 2),\n        id = _ref6[0],\n        url = _ref6[1].url;\n\n    return [id, url];\n  }));\n\n  var registerImage = function registerImage(id, url) {\n    var canPreview = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n    var unRegister = function unRegister() {\n      setPreviewUrls(function (oldPreviewUrls) {\n        var clonePreviewUrls = new Map(oldPreviewUrls);\n        var deleteResult = clonePreviewUrls.delete(id);\n        return deleteResult ? clonePreviewUrls : oldPreviewUrls;\n      });\n    };\n\n    setPreviewUrls(function (oldPreviewUrls) {\n      return new Map(oldPreviewUrls).set(id, {\n        url: url,\n        canPreview: canPreview\n      });\n    });\n    return unRegister;\n  };\n\n  var onPreviewClose = function onPreviewClose(e) {\n    e.stopPropagation();\n    setShowPreview(false);\n    setMousePosition(null);\n  };\n\n  React.useEffect(function () {\n    setCurrent(currentControlledKey);\n  }, [currentControlledKey]);\n  React.useEffect(function () {\n    if (!isShowPreview && isControlled) {\n      setCurrent(currentControlledKey);\n    }\n  }, [currentControlledKey, isControlled, isShowPreview]);\n  return /*#__PURE__*/React.createElement(Provider, {\n    value: {\n      isPreviewGroup: true,\n      previewUrls: canPreviewUrls,\n      setPreviewUrls: setPreviewUrls,\n      current: current,\n      setCurrent: setCurrent,\n      setShowPreview: setShowPreview,\n      setMousePosition: setMousePosition,\n      registerImage: registerImage\n    }\n  }, children, /*#__PURE__*/React.createElement(_Preview.default, (0, _extends2.default)({\n    \"aria-hidden\": !isShowPreview,\n    visible: isShowPreview,\n    prefixCls: previewPrefixCls,\n    onClose: onPreviewClose,\n    mousePosition: mousePosition,\n    src: canPreviewUrls.get(current),\n    icons: icons,\n    getContainer: getContainer\n  }, dialogProps)));\n};\n\nvar _default = Group;\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = getFixScaleEleTransPosition;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _css = require(\"rc-util/lib/Dom/css\");\n\nfunction fixPoint(key, start, width, clientWidth) {\n  var startAddWidth = start + width;\n  var offsetStart = (width - clientWidth) / 2;\n\n  if (width > clientWidth) {\n    if (start > 0) {\n      return (0, _defineProperty2.default)({}, key, offsetStart);\n    }\n\n    if (start < 0 && startAddWidth < clientWidth) {\n      return (0, _defineProperty2.default)({}, key, -offsetStart);\n    }\n  } else if (start < 0 || startAddWidth > clientWidth) {\n    return (0, _defineProperty2.default)({}, key, start < 0 ? offsetStart : -offsetStart);\n  }\n\n  return {};\n}\n/**\n * Fix positon x,y point when\n *\n * Ele width && height < client\n * - Back origin\n *\n * - Ele width | height > clientWidth | clientHeight\n * - left | top > 0 -> Back 0\n * - left | top + width | height < clientWidth | clientHeight -> Back left | top + width | height === clientWidth | clientHeight\n *\n * Regardless of other\n */\n\n\nfunction getFixScaleEleTransPosition(width, height, left, top) {\n  var _getClientSize = (0, _css.getClientSize)(),\n      clientWidth = _getClientSize.width,\n      clientHeight = _getClientSize.height;\n\n  var fixPos = null;\n\n  if (width <= clientWidth && height <= clientHeight) {\n    fixPos = {\n      x: 0,\n      y: 0\n    };\n  } else if (width > clientWidth || height > clientHeight) {\n    fixPos = (0, _objectSpread2.default)((0, _objectSpread2.default)({}, fixPoint('x', left, width, clientWidth)), fixPoint('y', top, height, clientHeight));\n  }\n\n  return fixPos;\n}","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = useFrameSetState;\n\nvar _objectSpread2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectSpread2\"));\n\nvar _slicedToArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/slicedToArray\"));\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _raf = _interopRequireDefault(require(\"rc-util/lib/raf\"));\n\nfunction useFrameSetState(initial) {\n  var frame = React.useRef(null);\n\n  var _React$useState = React.useState(initial),\n      _React$useState2 = (0, _slicedToArray2.default)(_React$useState, 2),\n      state = _React$useState2[0],\n      setState = _React$useState2[1];\n\n  var queue = React.useRef([]);\n\n  var setFrameState = function setFrameState(newState) {\n    if (frame.current === null) {\n      queue.current = [];\n      frame.current = (0, _raf.default)(function () {\n        setState(function (preState) {\n          var memoState = preState;\n          queue.current.forEach(function (queueState) {\n            memoState = (0, _objectSpread2.default)((0, _objectSpread2.default)({}, memoState), queueState);\n          });\n          frame.current = null;\n          return memoState;\n        });\n      });\n    }\n\n    queue.current.push(newState);\n  };\n\n  React.useEffect(function () {\n    return function () {\n      return frame.current && _raf.default.cancel(frame.current);\n    };\n  }, []);\n  return [state, setFrameState];\n}","\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar _exportNames = {};\nexports.default = void 0;\n\nvar _Image = _interopRequireWildcard(require(\"./Image\"));\n\nObject.keys(_Image).forEach(function (key) {\n  if (key === \"default\" || key === \"__esModule\") return;\n  if (Object.prototype.hasOwnProperty.call(_exportNames, key)) return;\n  if (key in exports && exports[key] === _Image[key]) return;\n  Object.defineProperty(exports, key, {\n    enumerable: true,\n    get: function get() {\n      return _Image[key];\n    }\n  });\n});\nvar _default = _Image.default;\nexports.default = _default;"],"sourceRoot":""}