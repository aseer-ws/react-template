(self.webpackChunkreact_template=self.webpackChunkreact_template||[]).push([[451],{13451:(t,e,r)=>{"use strict";r.r(e),r.d(e,{CORS_ERROR_MESSAGE:()=>St,Container:()=>bt,StyledTracksContainer:()=>wt,TrackGridContainer:()=>Zt,TrackGridContainerTest:()=>Et,default:()=>Rt,mapDispatchToProps:()=>Nt});r(98620);var n,i,a,o,c,l,d,u,s,f=r(10149),m=(r(94125),r(16318)),p=(r(89626),r(70302)),k=(r(89858),r(51024)),y=r(41609),v=r.n(y),h=r(23279),g=r.n(h),b=r(25798),T=r(69123),C=r(34392),_=(r(89581),r(84996)),w=(r(1025),r(65400)),x=(r(47811),r(91633)),P=r(39389),S=r(16327),Z=r(95763),I=(r(45697),r(67294)),N=r(39711),G=r(71893);function R(t,e,r,n){s||(s="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=t&&t.defaultProps,a=arguments.length-3;if(e||0===a||(e={children:void 0}),1===a)e.children=n;else if(a>1){for(var o=new Array(a),c=0;c<a;c++)o[c]=arguments[c+3];e.children=o}if(e&&i)for(var l in i)void 0===e[l]&&(e[l]=i[l]);else e||(e=i||{});return{$$typeof:s,type:t,key:void 0===r?null:""+r,ref:null,props:e,_owner:null}}function E(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,i,a=[],o=!0,c=!1;try{for(r=r.call(t);!(o=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);o=!0);}catch(t){c=!0,i=t}finally{try{o||null==r.return||r.return()}finally{if(c)throw i}}return a}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return j(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function A(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var O=(0,G.iv)(["animation-play-state:running;"]),L=G.ZP.article.withConfig({displayName:"TrackCard__StyledTrackItem",componentId:"sc-10bk196-0"})(["height:100%;"]),q=(0,G.ZP)(p.Z).withConfig({displayName:"TrackCard__StyledTrackCard",componentId:"sc-10bk196-1"})(["&&{&.ant-card{height:100%;}.ant-card-body{height:100%;display:flex;&:hover{box-shadow:0 0 10px 1px lightgray;}","}}"],S.BC.lessThan("mobile")(n||(n=A(["\n        flex-direction: column;\n        align-items: center;\n      "])))),$=G.ZP.div.withConfig({displayName:"TrackCard__StyledImageContainer",componentId:"sc-10bk196-2"})(["display:flex;position:relative;align-items:center;justify-content:center;width:6.5rem;height:6.5rem;flex:0 0 6.5rem;margin-right:1rem;.ant-image{width:100%;height:100%;}",""],S.BC.lessThan("mobile")(i||(i=A(["\n    margin-right: 0;\n    margin-bottom: 1rem;\n  "])))),U=(0,G.ZP)(x.Z).withConfig({displayName:"TrackCard__StyledImage",componentId:"sc-10bk196-3"})(["height:100%;width:100%;border-radius:50%;overflow:hidden;object-fit:cover;animation:spin infinite 3s linear;animation-play-state:paused;"," @keyframes spin{0%{transform:rotateZ(0deg);}50%{transform:rotateZ(180deg);}100%{transform:rotateZ(360deg);}}"],(function(t){return"true"===t.animate&&O})),z=(0,G.ZP)(w.default).withConfig({displayName:"TrackCard__PlayPauseButton",componentId:"sc-10bk196-4"})(["&&{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;align-items:center;justify-content:center;}"]),B=G.ZP.div.withConfig({displayName:"TrackCard__TrackInfoContainer",componentId:"sc-10bk196-5"})(["color:inherit;flex:1;cursor:pointer;"]),M=(0,G.ZP)(N.Link).withConfig({displayName:"TrackCard__StyledLink",componentId:"sc-10bk196-6"})(["&&{color:black;text-decoration:none;}"]),W=(0,G.ZP)(C.T).withConfig({displayName:"TrackCard__TrackName",componentId:"sc-10bk196-7"})(["&&{font-size:1rem;color:",";}"],Z.success),J=(0,G.ZP)(C.T).withConfig({displayName:"TrackCard__TrackCollectionName",componentId:"sc-10bk196-8"})(["&&{font-size:smaller;}"]),K=(0,G.ZP)(C.T).withConfig({displayName:"TrackCard__TrackPrice",componentId:"sc-10bk196-9"})(["&&{color:",";margin:0.4rem 0;}"],Z.error),Q=(0,G.ZP)(_.Z).withConfig({displayName:"TrackCard__TrackGenre",componentId:"sc-10bk196-10"})(["&&{font-weight:bold;font-size:smaller;}"]),V=G.ZP.audio.withConfig({displayName:"TrackCard__StyledAudio",componentId:"sc-10bk196-11"})(["visibility:hidden;"]);function D(t){var e=t.trackId,r=t.trackName,n=t.collectionName,i=t.artworkUrl100,s=t.trackPrice,f=t.primaryGenreName,m=t.previewUrl,p=t.onTrackToggle,k=(0,I.useRef)(null),y=E((0,I.useState)(!1),2),h=y[0],g=y[1],b=function(){return g((function(t){return!t}))};return R(L,{id:e,"data-testid":"track-card"},void 0,R(q,{},void 0,R($,{},void 0,R(U,{width:"100%",height:"100%",animate:h?"true":"false","data-testid":"track-image",preview:!1,src:null!==i&&void 0!==i?i:"",fallback:"https://media.istockphoto.com/vectors/thumbnail-image-vector-graphic-vector-id1147544807?k=20&m=1147544807&s=612x612&w=0&h=pBhz1dkwsCMq37Udtp9sfxbjaMl27JUapoyYpQm0anc="}),R(T.Z,{condition:!v()(m)},void 0,R(z,{title:"Preview","data-testid":"play-pause-btn",type:"primary",onClick:function(){var t,e;h?null===k||void 0===k||null===(t=k.current)||void 0===t||t.pause():(null===k||void 0===k||null===(e=k.current)||void 0===e||e.play(),b()),p(k)},shape:"circle",icon:h?a||(a=R(P.PauseCircleFilled,{})):o||(o=R(P.PlayCircleFilled,{}))}),I.createElement(V,{"data-testid":"audio-track",id:e,preload:"none",src:m,ref:k,onPause:function(){b(),k.current.ended&&p(k)}}))),R(M,{to:"/tracks/".concat(e)},void 0,R(B,{},void 0,R(T.Z,{condition:!v()(r),otherwise:c||(c=R(W,{"data-testid":"track_name_unavailable",id:"track_name_unavailable"}))},void 0,R(W,{title:r,noOfLines:2,"data-testid":"track-name",marginBottom:10,type:"subheading",text:r})),R(T.Z,{condition:!v()(n),otherwise:l||(l=R(J,{"data-testid":"collection_name_unavailable",id:"collection_name_unavailable"}))},void 0,R(J,{title:n,noOfLines:3,"data-testid":"collection-name",type:"subText",text:n})),R(T.Z,{condition:"number"===typeof s,otherwise:d||(d=R(K,{"data-testid":"track_price_unavailable",id:"track_price_unavailable"}))},void 0,R(K,{"data-testid":"track-price",text:"".concat(String(s)," $")})),R(T.Z,{condition:!v()(f),otherwise:u||(u=R(C.T,{"data-testid":"track_genre_unavailable",id:"track_genre_unavailable"}))},void 0,R(Q,{status:"success","data-testid":"track-genre",text:f}))))))}D.defaultProps={onTrackToggle:function(){}};const F=D;var H,X,Y,tt,et,rt,nt,it=r(15482),at=r(97132),ot=r(37424),ct=r(35281),lt=r(5276),dt=r(22222),ut=r(14322),st=r(84853),ft=r(8255);function mt(){return(mt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function pt(t){return(pt="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function kt(t,e,r,n){nt||(nt="function"===typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=t&&t.defaultProps,a=arguments.length-3;if(e||0===a||(e={children:void 0}),1===a)e.children=n;else if(a>1){for(var o=new Array(a),c=0;c<a;c++)o[c]=arguments[c+3];e.children=o}if(e&&i)for(var l in i)void 0===e[l]&&(e[l]=i[l]);else e||(e=i||{});return{$$typeof:nt,type:t,key:void 0===r?null:""+r,ref:null,props:e,_owner:null}}function yt(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,i,a=[],o=!0,c=!1;try{for(r=r.call(t);!(o=(n=r.next()).done)&&(a.push(n.value),!e||a.length!==e);o=!0);}catch(t){c=!0,i=t}finally{try{o||null==r.return||r.return()}finally{if(c)throw i}}return a}(t,e)||function(t,e){if(!t)return;if("string"===typeof t)return vt(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vt(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function vt(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ht=k.Z.Search,gt=(0,G.ZP)(p.Z).withConfig({displayName:"TrackGridContainer__CustomCard",componentId:"i3keot-0"})(["&&{user-select:none;","}"],(function(t){return t.margintop&&"margin-top: ".concat(t.margintop,"rem")})),bt=G.ZP.div.withConfig({displayName:"TrackGridContainer__Container",componentId:"i3keot-1"})(["display:flex;justify-content:center;flex-direction:column;margin:2rem auto;max-width:","px;padding:","rem;"],(function(t){return t.maxWidth}),(function(t){return t.padding})),Tt=(0,G.ZP)(N.Link).withConfig({displayName:"TrackGridContainer__StyledLink",componentId:"i3keot-2"})(["&&{text-align:center;}"]),Ct=(0,G.ZP)(ht).withConfig({displayName:"TrackGridContainer__StyledArtistSearch",componentId:"i3keot-3"})(["&&{max-width:18.75rem;border-radius:0.3rem;padding:0.5rem;}"]),_t=G.ZP.header.withConfig({displayName:"TrackGridContainer__StyledHeader",componentId:"i3keot-4"})(["display:flex;flex-direction:column;align-items:center;"]),wt=G.ZP.div.withConfig({displayName:"TrackGridContainer__StyledTracksContainer",componentId:"i3keot-5"})(["display:grid;grid-template-columns:1fr;gap:1rem;@media screen and (min-width:790px){grid-template-columns:1fr 1fr;}@media screen and (min-width:1000px){grid-template-columns:1fr 1fr 1fr;}"]),xt=ut.qf.requestGetTracks,Pt=ut.qf.clearTracks,St="iTunes API CORS issue";function Zt(t){var e,r=t.artist,n=t.tracks,i=t.trackCount,a=t.tracksError,o=t.dispatchGetTracks,c=t.maxWidth,l=t.padding,d=t.dispatchClearTracks,u=yt((0,I.useState)(!1),2),s=u[0],k=u[1],y=(0,I.useRef)(null);function h(t){var e,r;(null===y||void 0===y?void 0:y.current)===t.current||null!==y&&void 0!==y&&null!==(e=y.current)&&void 0!==e&&e.paused?y.current=null:(null===y||void 0===y||null===(r=y.current)||void 0===r||r.pause(),y.current=null===t||void 0===t?void 0:t.current)}(0,I.useEffect)((function(){!v()(r)&&v()(n)&&o(r)}),[]),(0,I.useEffect)((function(){s&&!v()(n)&&k(!1)}),[n,a,s]);(0,I.useEffect)((function(){"NETWORK_ERROR"===a&&m.default.error({message:St,description:"Try back after some time",placement:"bottomRight",duration:5e3,type:"error"})}),[a]);var _=g()((function(t){if(!t)return d();k(!0),o(t)}),500);return kt(bt,{maxWidth:c,padding:l},void 0,kt(it.q,{},void 0,kt("title",{},void 0,r?"Tracks from ".concat(r):"TrackGridContainer"),tt||(tt=kt("meta",{name:"description",content:"Description of TrackGridContainer"}))),et||(et=kt(Tt,{"data-testid":"repos-redirect",to:"/repos"},void 0,"Goto GitHub Repos")),kt(_t,{},void 0,rt||(rt=kt(C.T,{type:"heading",marginBottom:10,id:"itunes_header"})),kt(Ct,{"data-testid":"artist-search-bar",placeholder:"input artist name",allowClear:!0,defaultValue:r,onChange:function(t){return _(t.target.value)},onSearch:function(t){return _(t)}})),kt(f.default,{loading:s,active:!0},void 0,kt(gt,{margintop:2},void 0,kt(T.Z,{condition:!v()(r),otherwise:H||(H=kt(C.T,{id:"songs_data_empty"}))},void 0,kt(T.Z,{condition:!v()(r),otherwise:X||(X=kt(C.T,{id:"itunes_artist_unavailable"}))},void 0,kt("div",{},void 0,kt(C.T,{"data-testid":"tunes-artist",id:"itunes_artist_name",values:{artistName:r}})),kt(T.Z,{condition:i,otherwise:Y||(Y=kt(C.T,{"data-testid":"empty-track-text",id:"itunes_empty_track"}))},void 0,kt("div",{},void 0,kt(C.T,{id:"itunes_track_count",values:{trackCount:i}})))))),kt(T.Z,{condition:!v()(n)&&"object"===pt(n)},void 0,kt(gt,{margintop:1},void 0,kt(b.Z,{ParentComponent:wt,of:Object.values(n||{}),renderItem:function(t){return I.createElement(F,mt({key:t.trackId,skeletonLoading:s,onTrackToggle:h},t))}})))),kt(T.Z,{condition:!v()(a)},void 0,kt(p.Z,{},void 0,kt(T.Z,{condition:"string"===typeof a,otherwise:kt("div",{},void 0,JSON.stringify(a,null,2))},void 0,e||(e=kt(C.T,{"data-testid":"tunes-error",text:a}))))))}Zt.defaultProps={maxWidth:1e3,padding:2,dispatchGetTracks:function(){}};var It=(0,dt.zB)({artist:(0,ft.rq)(),tracks:(0,ft.VJ)(),trackCount:(0,ft.cb)(),tracksError:(0,ft.Lm)()});function Nt(t){return{dispatchGetTracks:function(e){return t(xt(e))},dispatchClearTracks:function(){return t(Pt())}}}var Gt=(0,ot.connect)(It,Nt);const Rt=(0,ct.compose)(Gt,I.memo,at.injectIntl,(0,lt.y3)({key:"trackProvider",saga:st.ZP}))(Zt);var Et=(0,ct.compose)(at.injectIntl)(Zt)},84853:(t,e,r)=>{"use strict";r.d(e,{ZP:()=>h});var n=(0,r(86619).R5)("itunes"),i=function(t){return n.get("search?term=".concat(t))},a=r(73375),o=r(14322),c=r(8255),l=regeneratorRuntime.mark(k),d=regeneratorRuntime.mark(v),u=regeneratorRuntime.mark(h),s=o.qf.successGetTracks,f=o.qf.failureGetTracks,m=o.qf.successGetTrack,p=o.qf.failureGetTrack;function k(t){var e,r,n,o;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,(0,a.call)(i,t.artistName);case 2:if(e=c.sent,r=e.ok,n=e.data,o=e.problem,!r||!n){c.next=9;break}return c.next=7,(0,a.put)(s(n));case 7:c.next=11;break;case 9:return c.next=11,(0,a.put)(f(null!==n&&void 0!==n?n:o));case 11:case"end":return c.stop()}}),l)}var y=(0,c.le)();function v(t){var e,r,n,o,c;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,(0,a.select)(y);case 2:if(e=l.sent){l.next=17;break}return l.next=6,(0,a.call)(i,t.trackId);case 6:if(r=l.sent,n=r.ok,o=r.data,c=r.problem,!(n&&o&&null!==o&&void 0!==o&&o.results)){l.next=13;break}return l.next=11,(0,a.put)(m(o.results[0]));case 11:l.next=15;break;case 13:return l.next=15,(0,a.put)(p(null!==o&&void 0!==o?o:c));case 15:l.next=19;break;case 17:return l.next=19,(0,a.put)(m(e));case 19:case"end":return l.stop()}}),d)}function h(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,a.takeLatest)(o.$C.REQUEST_GET_TRACK,v);case 2:return t.next=4,(0,a.takeLatest)(o.$C.REQUEST_GET_TRACKS,k);case 4:case"end":return t.stop()}}),u)}},8255:(t,e,r)=>{"use strict";r.d(e,{rq:()=>l,VJ:()=>d,cb:()=>u,Lm:()=>s,XL:()=>f,Z:()=>m,le:()=>p});var n=r(27361),i=r.n(n),a=r(22222),o=r(14322),c=function(t){return t.trackProvider||o.E3},l=function(){return(0,a.P1)(c,(function(t){return t.list.artistName}))},d=function(){return(0,a.P1)(c,(function(t){return t.list.tracks}))},u=function(){return(0,a.P1)(c,(function(t){return t.list.trackCount}))},s=function(){return(0,a.P1)(c,(function(t){return t.list.error}))},f=function(){return(0,a.P1)(c,(function(t){return t.details.track}))},m=function(){return(0,a.P1)(c,(function(t){return t.details.error}))},p=function(){var t=d(),e=(0,a.P1)(c,(function(t){return t.details.trackId}));return(0,a.P1)(t,e,(function(t,e){return i()(t,e)}))}}}]);
//# sourceMappingURL=451.8539c40de8747f813ed1.chunk.js.map